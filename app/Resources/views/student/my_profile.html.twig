{% embed 'base.html.twig' with {'randomHeaderColors': '1'} %}


    {% block body %}

        <div class="container {% if isFullscreen %} fullscreen {% endif %}">

            <div class="generic-card {% if isFullscreen %} fullscreen {% endif %}">
                <header>
                    <h2>{{ title }}</h2>
                    <p>{{ subtitle }}</p>
                </header>
                <div class="content {% if isFullscreen %} fullscreen {% endif %}">
                    {% autoescape false %}
                        {% for message_danger in app.session.flashBag.get('danger') %}
                            <div class="alert alert-danger">{{ message_danger }}</div>
                        {% endfor %}
                        {% for message_success in app.session.flashBag.get('success') %}
                            <div class="alert alert-success">{{ message_success }}</div>
                        {% endfor %}
                    {% endautoescape %}
                    {% embed 'templates/student/profile.html.twig' %} {% endembed %}

                    <hr>
                    <h3>Ajouter des fichiers</h3>

                    <form action="{{ path('modify_student_image') }}" method="post" enctype="multipart/form-data">
                        Choisissez une photo de profil
                        <input accept="image/*" type="file" name="profilePictureFile" id="profilePictureFile">
                        <button class="btn btn-info btn-medium" type="submit" name="submit">Valider</button>
                    </form>

                    <form action="{{ path('modify_student_cv') }}" method="post" enctype="multipart/form-data">
                        Choisissez votre CV (au format PDF)
                        <input accept="application/pdf" type="file" name="cv" id="cv">
                        <button class="btn btn-info btn-medium" type="submit" name="submit">Valider</button>
                    </form>

                    <h3>Modifiez vos informations</h3>
                    <form action="{{ path('modify_student_informations') }}" method="post">
                        <div class="group" style="width: 48%">
                            <input name="description" type="text" value="{{ user.description }}">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Votre description</label>
                        </div>
                        <div class="group" style="width: 50%;">
                            <input name="birthday" type="text" value="{{ user.birthday|date('d/m/Y') }}" required>
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Votre date de naissance (Jour/Mois/Année)</label>
                        </div>
                        <div class="group" style="width: 30%">
                            <input name="website" type="text" value="{{ user.website }}">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Votre site web</label>
                        </div>
                        <div class="group" style="width: 30%">
                            <input name="viadeo" type="text" value="{{ user.viadeo }}">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Votre Viadeo</label>
                        </div>
                        <div class="group" style="width: 30%">
                            <input name="linkedin" type="text" value="{{ user.linkedin }}">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Votre LinkedIn</label>
                        </div>
                        <div class="group" >
                            <input name="mail" type="email" value="{{ user.professionalMail }}">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Votre mail</label>
                        </div>
                        <div class="group">
                            <input name="hobbies" type="text" value="{{ user.hobbies|default('')|join(', ') }}">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Vos hobbies (séparé par une virgule)</label>
                        </div>
                        <div class="group" style="width: 30%">
                            <input name="softwares" type="text" value="{{ user.softwares|default('')|join(', ') }}">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Logiciels que vous maîtrisez (séparé par une virgule)</label>
                        </div>
                        <div class="group" style="width: 30%">
                            <input name="languages" type="text" value="{{ user.languages|default('')|join(', ') }}">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Langues maîtrisés (séparé par une virgule)</label>
                        </div>
                        <div class="group" style="width: 30%">
                            <input name="programmingLanguages" type="text" value="{{ user.programmingLanguages|default('')|join(', ') }}">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Langages de programmation maîtrisés (séparé par une virgule)</label>
                        </div>
                        <div class="group" style="width: 48%">
                            <input name="favMusic" type="text" value="{{ user.favoriteMusic }}">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Musique préférée</label>
                        </div>
                        <div class="group" style="width: 50%">
                            <input name="favQuote" type="text" value="{{ user.favoriteQuote }}">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Citation préférée</label>
                        </div>
                        <div class="group">
                            <input name="projectRole" type="text" value="{{ user.projectRole }}">
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Votre rôle dans le projet tutoré</label>
                        </div>

                        <button type="submit" class="btn btn-info btn-medium">Enregistrer</button>

                    </form>
                    <h3>Modifiez votre mot de passe</h3>
                    <form action="" method="post">
                        <div class="group">
                            <input name="userCurrentPassword" type="password" required>
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Mot de passe actuel<label>
                        </div>
                        <div class="group">
                            <input name="userPasswordFirst" type="password" required>
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Nouveau mot de passe<label>
                        </div>
                        <div class="group">
                            <input name="userPasswordSecond" type="password" required>
                            <span class="highlight"></span>
                            <span class="bar"></span>
                            <label class="material">Répéter le mot de passe<label>
                        </div>
                        <div class="buttons">
                            <button class="btn btn-info btn-medium" type="submit">Valider</button>
                        </div>
                    </form>
                    <h3>Mes rôles</h3>

                    <table>
                        <thead>
                        <tr>
                            <th>Rôle</th>
                            <th>Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for role in user.rolesObject %}
                            <tr>
                                <td>
                                    {{ role.name }}
                                </td>
                                <td class="third">
                                    <span class="role-description">{{ role.description }}</span>
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>

                    </table>
                </div>


            </div>
        </div>


    {% endblock %}

    {% block customcss %}

        {% if randomHeaderColors %}
            <style>
                .generic-card header {
                    background: url("{{ asset('img/overlay.png') }}"), url("{{ asset('img/svg/header-bg.svg') }}"), linear-gradient(45deg, {{ generateColor() }} 20%, {{ generateColor() }} 80%) center, center, center;
                }

            </style>
        {% endif %}

    {% endblock %}

{% endembed %}